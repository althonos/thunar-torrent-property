sudo: required
dist: trusty
language: C

addons:
  apt:
    sources:
      - sourceline: 'ppa:ubuntu-toolchain-r/test'
    packages:
      - gcc-5
      - g++-5

cache:
  directories:
  - ext

compiler:
- gcc
# - clang

# matrix:
#   allow_failures:
#   - compiler: clang

before_install:
- sudo apt-get -qq update
- cd ext && sudo bash makedeb-libtorrent-rasterbar.sh
    && sudo dpkg -i libtorrent-rasterbar-git.deb && cd ..
- sudo apt-get install -y --no-install-recommends
    cmake libthunarx-2-dev libgtk2.0-dev libboost-filesystem-dev
    libboost-system-dev

install:
- mkdir build && cd build
- cmake ..
- make
- make install
